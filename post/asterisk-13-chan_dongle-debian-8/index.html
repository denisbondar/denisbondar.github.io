<!doctype html><html lang=uk dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Установка Asterisk 13 + chan_dongle (E1550, E1750) на Debian 8 # В предыдущей статье шла речь об установке системы Asterisk версии 11 на сервер под управлением Ubuntu. Основным поводом установки 11 версии было то, что под 13 версию не существовало модуля chan_dongle. Теперь такой модуль есть, поэтому есть смысл написать заново, теперь уже о Asterisk 13, Debian и некоторых других удобных полезных функциях.
Данная инструкция описывает процесс установки телефонной системы Asterisk с модулями DAHDI, LibPRI, PJSip, SpanDSP, chan_dongle и дополнительными кодеками Opus и g729."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="Установка Asterisk 13 + chan_dongle (E1550, E1750) на Debian 8"><meta property="og:description" content="Установка Asterisk 13 + chan_dongle (E1550, E1750) на Debian 8 # В предыдущей статье шла речь об установке системы Asterisk версии 11 на сервер под управлением Ubuntu. Основным поводом установки 11 версии было то, что под 13 версию не существовало модуля chan_dongle. Теперь такой модуль есть, поэтому есть смысл написать заново, теперь уже о Asterisk 13, Debian и некоторых других удобных полезных функциях.
Данная инструкция описывает процесс установки телефонной системы Asterisk с модулями DAHDI, LibPRI, PJSip, SpanDSP, chan_dongle и дополнительными кодеками Opus и g729."><meta property="og:type" content="article"><meta property="og:url" content="https://denisbondar.github.io/post/asterisk-13-chan_dongle-debian-8/"><meta property="article:section" content="post"><meta property="article:published_time" content="2016-04-20T00:00:00+00:00"><meta property="article:modified_time" content="2016-04-20T00:00:00+00:00"><title>Установка Asterisk 13 + chan_dongle (E1550, E1750) на Debian 8 | Notes</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.6e9dc01763201e1138d92988ddb76ac12def039312e5473a6847a96d89bc05af.css integrity="sha256-bp3AF2MgHhE42SmI3bdqwS3vA5MS5Uc6aEepbYm8Ba8=" crossorigin=anonymous><script defer src=/flexsearch.min.js></script>
<script defer src=/uk.search.min.e6e28176f43660c1a32e50adf0fa1e1b609e18f780485b24290a43324aa8badf.js integrity="sha256-5uKBdvQ2YMGjLlCt8PoeG2CeGPeASFskKQpDMkqout8=" crossorigin=anonymous></script>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-8991816-14","auto"),ga("send","pageview"))</script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>Notes</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Пошук aria-label=Пошук maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/post/openvpn-server/>OpenVPN Server</a></li><li><a href=/post/alpine-php-nginx-logrotate-docker-image/>Докеризация PHP-приложения в единый Docker-образ Alpine+PHP+NGINX+logrotate</a></li><li><a href=/post/postfix-dkim-spf-tls-dmarc/>Персональный почтовый сервер</a></li><li><a href=/post/winbox-wine-tahoma-font/>Winbox в Wine как исправить кривой шрифт</a></li><li><a href=/post/how-to-install-docker-on-linux/>Установка Docker в Linux</a></li><li><a href=/post/phpstorm_docker_xdebug/>PhpStorm + Docker + Xdebug</a></li><li><a href=/post/zfs-manual-rus/>ZFS — Справочник команд</a></li><li><a href=/post/midi-keybiard-jack-bitwig-studio/>Как подключить MIDI клавиатуру к Bitwig Studio</a></li><li><a href=/post/how-to-install-debian-8/>Как установить Debian 8 без знаний и опыта</a></li><li><a href=/post/install-nginx-php7-mysql57-mariadb11-debian-ubuntu/>Установка Nginx 1.13, PHP 7, MySQL 5.7, MariaDB 10.1, PostgreSQL 11 в Debian и Ubuntu</a></li><li><a href=/post/asterisk-13-chan_dongle-debian-8/ class=active>Установка Asterisk 13 + chan_dongle (E1550, E1750) на Debian 8</a></li><li><a href=/post/asterisk11-chan_dongle_e1550-ubuntu14/>Asterisk11 Chan_dongle_e1550 Ubuntu14</a></li><li><a href=/post/asterisk-example-2-dongle-call-management/>Asterisk. Пример 2 — SIP и DONGLE</a></li><li><a href=/post/apache24php7win10/>Apache 2.4 + PHP 7 на Windows 7­, 10</a></li><li><a href=/post/simply-install-freebsd/>Как установить FreeBSD с флешки</a></li><li><a href=/post/resize-gpt-psrtition-freebsd/>Изменить размер раздела GPT FreeBSD vmWare</a></li><li><a href=/post/material-design-product-icon-ai/>Как создать иконку приложения в стиле Material Design. Наиболее правильная инструкция</a></li><li><a href=/post/asterisk-example-1-call-between-two-sip-line/>Asterisk. Пример 1 — вызов между двумя линиями SIP</a></li><li><a href=/post/manual-freebsd-install/>Ручная установка FreeBSD на USB flash или HDD</a></li><li><a href=/post/apache24php56win7/>Apache 2.4 + PHP 5.6 + MySQL 5.6 на Windows 7, 10</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Установка Asterisk 13 + chan_dongle (E1550, E1750) на Debian 8</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#входныеданные>Входные данные</a></li><li><a href=#установка-зависимостей>Установка зависимостей</a></li><li><a href=#установка-dahdi>Установка DAHDI</a></li><li><a href=#установка-libpri>Установка LibPRI</a></li><li><a href=#установкаpjsip>Установка PJSip</a></li><li><a href=#установка-spandsp>Установка SpanDSP</a></li><li><a href=#установка-asterisk-13>Установка Asterisk 13</a><ul><li><a href=#saples>Saples</a></li><li><a href=#установка-кодека-g729>Установка кодека G729</a></li></ul></li><li><a href=#после-установочная-настройка>После установочная настройка</a></li><li><a href=#установка-chan_dongle>Установка chan_dongle</a><ul><li><a href=#идентификация-по-imsi-или-imei>Идентификация по IMSI или IMEI</a></li><li><a href=#если-идентификация-по-imei--imsi-не-работает>Если идентификация по IMEI / IMSI не работает</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=установка-asterisk-13--chan_dongle-e1550-e1750-на-debian-8>Установка Asterisk 13 + chan_dongle (E1550, E1750) на Debian 8
<a class=anchor href=#%d1%83%d1%81%d1%82%d0%b0%d0%bd%d0%be%d0%b2%d0%ba%d0%b0-asterisk-13--chan_dongle-e1550-e1750-%d0%bd%d0%b0-debian-8>#</a></h1><p>В <a href=https://denisbondar.github.io/post/asterisk11-chan_dongle_e1550-ubuntu14/>предыдущей статье</a> шла речь об установке системы Asterisk версии 11 на сервер под управлением Ubuntu. Основным поводом установки 11 версии было то, что под 13 версию не существовало модуля chan_dongle. Теперь такой модуль есть, поэтому есть смысл написать заново, теперь уже о Asterisk 13, Debian и некоторых других удобных полезных функциях.</p><p>Данная инструкция описывает процесс установки телефонной системы Asterisk с модулями DAHDI, LibPRI, PJSip, SpanDSP, chan_dongle и дополнительными кодеками Opus и g729. Никаких WEB-интерфейсов и прочих утилит для конфигурирования и мониторинга системы данная инструкция не предусматривает. Это связано с тем, что автору приходилось неоднократно разбираться с конфигурационными файлами, сгенерированными автоматически при помощи FreeBPX и прочих подобных систем, что вызывало у автора сильную ненависть к подобным оболочкам. Поэтому, друзья, настраивайте все руками в конфигурационных файлах. Это не так сложно, зато работает как часы и разобраться намного проще.</p><blockquote class="book-hint warning"><p><strong>Disclamer</strong></p><p>Автор предупреждает читателей, о тонкой грани между допустимым использованием телефонных систем подобного рода и уголовной ответственностью, которая может наступить при неправильной маршрутизации телефонного трафика (рефайлинг). Пожалуйста, ознакомьтесь с законодательством Вашей страны, чтобы избежать проблем. Автор снимает с себя ответственность за любые действия читателя, в которых ему может помочь материал данной статьи и возлагает ее целиком и полностью на читателя данной статьи. Информация, приведенная в данной статье, является справочной и не носит практического характера.</p></blockquote><h2 id=входныеданные>Входные данные
<a class=anchor href=#%d0%b2%d1%85%d0%be%d0%b4%d0%bd%d1%8b%d0%b5%d0%b4%d0%b0%d0%bd%d0%bd%d1%8b%d0%b5>#</a></h2><p>Для написания статьи я создал тестовый виртуальный сервер под управлением Debian 8.4. Во время установки было выбрано следующее программное обеспечение: SSH-сервер и Стандартные системные утилиты. В боевой конфигурации рекомендуется выделить отдельный раздел диска для файлов записей разговоров, если это необходимо.
<img src=0-version.png alt>
<em>Версия Debian</em></p><p><strong>Важное замечание:</strong> производите все действия по установке под учетной записью суперпользователя root. Не используйте sudo, так как это вызывает ошибки в некоторых случаях. Пожалуйста, не игнорируйте это замечание. Вы можете использовать команду:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>su -
</span></span></code></pre></div><p>либо разрешите на время установки доступ пользователю root через ssh, для чего в файле <strong>/etc/ssh/sshd_config</strong> установите параметр:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>PermitRootLogin yes
</span></span></code></pre></div><p>и перезапустите ssh-сервер</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>service sshd restart
</span></span></code></pre></div><h2 id=установка-зависимостей>Установка зависимостей
<a class=anchor href=#%d1%83%d1%81%d1%82%d0%b0%d0%bd%d0%be%d0%b2%d0%ba%d0%b0-%d0%b7%d0%b0%d0%b2%d0%b8%d1%81%d0%b8%d0%bc%d0%be%d1%81%d1%82%d0%b5%d0%b9>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>apt-get update <span style=color:#f92672>&amp;&amp;</span> apt-get upgrade <span style=color:#f92672>&amp;&amp;</span> apt-get dist-upgrade
</span></span></code></pre></div><p>Далее скопируйте и вставьте целиком:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>apt-get install -y build-essential <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    autoconf <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    libncurses5-dev <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    libssl-dev <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    libxml2-dev <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    libsqlite3-dev <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    libmysqlclient-dev <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    curl <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    mpg123 <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    libxml2 <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    libxml2-dev <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    libaudiofile-dev <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    subversion <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    sox <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    libsox-fmt-all <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    uuid-dev <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    libjansson-dev <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    libiksemel-dev <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    libssl-dev <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    libtiff5-dev <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    mysql-client <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    libmyodbc <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    lame <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    linux-headers-<span style=color:#e6db74>`</span>uname -r<span style=color:#e6db74>`</span>
</span></span></code></pre></div><p>После этой процедуры желательно перезагрузить сервер.</p><h2 id=установка-dahdi>Установка DAHDI
<a class=anchor href=#%d1%83%d1%81%d1%82%d0%b0%d0%bd%d0%be%d0%b2%d0%ba%d0%b0-dahdi>#</a></h2><p><strong>Внимание!</strong> В большинстве инсталляций Вам <em>не пригодится этот модуль</em>. Он необходим только если у Вас есть оборудование, подключенное к данному серверу, которое взаимодействует с телефонной сетью посредством E1, T1 и т.п. Это разного рода PSTN/DAHDI-платы.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd /usr/src
</span></span><span style=display:flex><span>wget http://downloads.asterisk.org/pub/telephony/dahdi-linux-complete/dahdi-linux-complete-current.tar.gz
</span></span><span style=display:flex><span>tar xvfz dahdi-linux-complete-current.tar.gz
</span></span><span style=display:flex><span>rm -f dahdi-linux-complete-current.tar.gz
</span></span><span style=display:flex><span>cd dahdi-linux-complete-*
</span></span><span style=display:flex><span>make all
</span></span><span style=display:flex><span>make install
</span></span><span style=display:flex><span>make config
</span></span></code></pre></div><p>Результаты выглядят следующим образом:
<img src=01-dahdi-make.png alt>
<em>DAHDI make</em>
<img src=02-dahdi-install.png alt>
<em>DAHDI make install</em>
<img src=03-dahdi-config.png alt>
<em>DAHDI make config</em></p><h2 id=установка-libpri>Установка LibPRI
<a class=anchor href=#%d1%83%d1%81%d1%82%d0%b0%d0%bd%d0%be%d0%b2%d0%ba%d0%b0-libpri>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd /usr/src
</span></span><span style=display:flex><span>wget http://downloads.asterisk.org/pub/telephony/libpri/libpri-current.tar.gz
</span></span><span style=display:flex><span>tar xvfz libpri-current.tar.gz
</span></span><span style=display:flex><span>rm -f libpri-current.tar.gz
</span></span><span style=display:flex><span>cd libpri-*
</span></span><span style=display:flex><span>make
</span></span><span style=display:flex><span>make install
</span></span></code></pre></div><p>Результаты выглядят следующим образом:
<img src=04-libpri-make.png alt>
<em>libpri make</em>
<img src=05-libpri-install.png alt>
<em>libpri install</em></p><h2 id=установкаpjsip>Установка PJSip
<a class=anchor href=#%d1%83%d1%81%d1%82%d0%b0%d0%bd%d0%be%d0%b2%d0%ba%d0%b0pjsip>#</a></h2><p>PJSIP мультимедийная библиотека с открытым кодом, для реализации протоколов SIP, SDP, RTP, STUN, TURN и ICE. Она сочетает лучшие возможности SIP сигнализации, хорошую проходимость NAT и высокий уровень взаимодействия с приложениями. Подходит практически для любого типа систем, начиная от компьютеров и заканчивая встраиваемыми системами (embedded systems) и мобильными телефонами.<a href=http://voiplab.by/wiki/asterisk/60-novyj-kanalnyj-drajver-chan-pjsip-v-asterisk-13> Подробнее</a>.</p><p>Скопируйте ссылку на загрузку последней версии с сайта <a href=https://www.pjsip.org/download.htm>www.pjsip.org</a> и используйте в команде wget ниже:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd /usr/src
</span></span><span style=display:flex><span>wget http://www.pjsip.org/release/2.6/pjproject-2.6.tar.bz2
</span></span><span style=display:flex><span>tar -xjvf pjproject-*.tar.bz2
</span></span><span style=display:flex><span>rm -f pjproject-*.tar.bz2
</span></span><span style=display:flex><span>cd pjproject-*
</span></span><span style=display:flex><span>CFLAGS<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;-DPJ_HAS_IPV6=1&#39;</span> ./configure --enable-shared --disable-sound --disable-resample --disable-video --disable-opencore-amr
</span></span><span style=display:flex><span>make dep
</span></span><span style=display:flex><span>make
</span></span><span style=display:flex><span>make install
</span></span></code></pre></div><p>Результаты выглядят следующим образом:
<img src=06-pjsip-configure.png alt>
<em>pjsip configure</em>
<img src=07-pjsip-makedep.png alt>
<em>pjsip make dep</em>
<img src=08-pjsip-make.png alt>
<em>pjsip make</em>
<img src=09-pjsip-makeinstall.png alt>
<em>pjsip make install</em></p><h2 id=установка-spandsp>Установка SpanDSP
<a class=anchor href=#%d1%83%d1%81%d1%82%d0%b0%d0%bd%d0%be%d0%b2%d0%ba%d0%b0-spandsp>#</a></h2><p>Данный модуль необходим для работы с <strong>факсами</strong>. Если поддержка факсов не нужна, то можно смело пропустить установку этого модуля.</p><p>Так как последняя версия spandsp была выпущена достаточно давно, то можно без проблем установить его из репозитория Debian.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>apt-get install -y libspandsp2 libspandsp-dev
</span></span></code></pre></div><p>Либо же загрузите последнюю версию для установки вручную:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd /usr/src
</span></span><span style=display:flex><span>wget http://soft-switch.org/downloads/spandsp/spandsp-0.0.6pre21.tgz
</span></span><span style=display:flex><span>tar vxfz spandsp-*.tgz
</span></span><span style=display:flex><span>rm -f spandsp-*.tgz
</span></span><span style=display:flex><span>cd spandsp-*
</span></span><span style=display:flex><span>./configure
</span></span><span style=display:flex><span>make clean
</span></span><span style=display:flex><span>make
</span></span><span style=display:flex><span>make install
</span></span></code></pre></div><p>Результаты выглядят следующим образом:
<img src=10-spandsp-configure.png alt>
<em>spandsp configure</em>
<img src=11-spandsp-make.png alt>
<em>spandsp make</em>
<img src=12-spandsp-makeinstall.png alt>
<em>spandsp makeinstall</em></p><h2 id=установка-asterisk-13>Установка Asterisk 13
<a class=anchor href=#%d1%83%d1%81%d1%82%d0%b0%d0%bd%d0%be%d0%b2%d0%ba%d0%b0-asterisk-13>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd /usr/src
</span></span><span style=display:flex><span>wget http://downloads.asterisk.org/pub/telephony/asterisk/asterisk-13-current.tar.gz
</span></span><span style=display:flex><span>tar xvfz asterisk-13-current.tar.gz
</span></span><span style=display:flex><span>rm -f asterisk-13-current.tar.gz
</span></span><span style=display:flex><span>cd asterisk-13*
</span></span><span style=display:flex><span>contrib/scripts/get_mp3_source.sh
</span></span><span style=display:flex><span>contrib/scripts/install_prereq install
</span></span><span style=display:flex><span>./configure
</span></span><span style=display:flex><span>make menuselect
</span></span></code></pre></div><p>Результаты выглядят следующим образом:
<img src=13-asterisk-install_prereq.png alt>
<em>asterisk install_prereq</em>
<img src=14-asterisk-configure.png alt>
<em>asterisk configure — заветная звёздочка</em></p><p>Далее в конфигурационном меню необходимо выбрать по необходимости следующие компоненты:</p><ul><li>Add-ons: format_mp3</li><li>Core Sound Packages: CORE-SOUNDS-EN-(WAV, ALAW, GSM, G729, G722), CORE-SOUNDS-RU-(WAV, ALAW, GSM,G729, G722)</li><li>Extras Sound Packages: WAV, ALAW, GSM, G729 и G722</li></ul><p>Как это выглядит на скриншотах:
<img src=15-menuselect-addons.png alt>
<em>Addons</em>
<img src=16-menuselect-coresound.png alt>
<em>Core Sound Packages</em>
<img src=17-menuselect-extrasound.png alt>
<em>Extras Sound Packages</em></p><p>Продолжаем установку (процесс make занимает достаточно много времени).</p><h3 id=saples>Saples
<a class=anchor href=#saples>#</a></h3><p>Если это первая установка или у Вас еще нет базовых конфигурационных файлов, Вы можете их установить, выполнив make samples. Если Вы не понимаете, о чем идет речь, однозначно устанавливайте.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>make
</span></span><span style=display:flex><span>make install
</span></span><span style=display:flex><span>make config
</span></span><span style=display:flex><span>make samples
</span></span><span style=display:flex><span>ldconfig
</span></span></code></pre></div><p>Результаты выглядят следующим образом:
<img src=18-asterisk-make.png alt>
<em>asterisk make</em>
<img src=19-asterisk-makeinstall.png alt>
<em>asterisk make install</em></p><h3 id=установка-кодека-g729>Установка кодека G729
<a class=anchor href=#%d1%83%d1%81%d1%82%d0%b0%d0%bd%d0%be%d0%b2%d0%ba%d0%b0-%d0%ba%d0%be%d0%b4%d0%b5%d0%ba%d0%b0-g729>#</a></h3><p>Если кодек g729 не нужен — смело пропускаем.</p><blockquote><p>G729 — узкополосный речевой кодек (вокодер), который применяется для эффективного цифрового представления узкополосной телефонной речи (сигнала телефонного качества).</p></blockquote><p>Для начала нужно узнать, какой процессор используется в Вашем сервере:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>grep -E <span style=color:#e6db74>&#39;model name|flags&#39;</span> /proc/cpuinfo
</span></span></code></pre></div><p><strong>Внимание!</strong> Перед тем, как скачивать кодек, откройте сайт <a href=http://asterisk.hosting.lv/#bin>asterisk.hosting.lv</a>, выберите подходящий под систему и процессор кодек, скопируйте ссылку на его загрузку и используйте именно эту ссылку в команде ниже! Это крайне важно!</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>wget -P /usr/lib/asterisk/modules/ -O codec_g729.so ссылка_на_загрузку
</span></span></code></pre></div><h2 id=после-установочная-настройка>После установочная настройка
<a class=anchor href=#%d0%bf%d0%be%d1%81%d0%bb%d0%b5-%d1%83%d1%81%d1%82%d0%b0%d0%bd%d0%be%d0%b2%d0%be%d1%87%d0%bd%d0%b0%d1%8f-%d0%bd%d0%b0%d1%81%d1%82%d1%80%d0%be%d0%b9%d0%ba%d0%b0>#</a></h2><p>На этом основная установка системы окончена. Запустите Asterisk и убедитесь, что все в порядке:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>/etc/init.d/asterisk start
</span></span><span style=display:flex><span>ps ax | grep asterisk
</span></span><span style=display:flex><span>asterisk -rvvvvvvvvvvddddddddddc
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>quit
</span></span><span style=display:flex><span>/etc/init.d/asterisk stop
</span></span></code></pre></div><p>Если планируется использовать USB-модемы, то Asterisk желательно запускать от имени группы <strong>dialout</strong>, чтобы он имел доступ к устройствам USB.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>adduser --system --group --home /var/lib/asterisk --no-create-home --gecos <span style=color:#e6db74>&#34;Asterisk PBX&#34;</span> asterisk
</span></span><span style=display:flex><span>usermod -a -G dialout,audio asterisk
</span></span></code></pre></div><p>Задаем права на каталоги:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>chown -R asterisk:asterisk /var/lib/asterisk
</span></span><span style=display:flex><span>chown -R asterisk:asterisk /var/log/asterisk
</span></span><span style=display:flex><span>chown -R asterisk:asterisk /var/run/asterisk
</span></span><span style=display:flex><span>chown -R asterisk:asterisk /var/spool/asterisk
</span></span><span style=display:flex><span>chown -R asterisk:asterisk /usr/lib/asterisk
</span></span><span style=display:flex><span>chown -R asterisk:asterisk /etc/asterisk
</span></span><span style=display:flex><span>chmod -R u<span style=color:#f92672>=</span>rwX,g<span style=color:#f92672>=</span>rX,o<span style=color:#f92672>=</span> /var/lib/asterisk
</span></span><span style=display:flex><span>chmod -R u<span style=color:#f92672>=</span>rwX,g<span style=color:#f92672>=</span>rX,o<span style=color:#f92672>=</span> /var/log/asterisk
</span></span><span style=display:flex><span>chmod -R u<span style=color:#f92672>=</span>rwX,g<span style=color:#f92672>=</span>rX,o<span style=color:#f92672>=</span> /var/run/asterisk
</span></span><span style=display:flex><span>chmod -R u<span style=color:#f92672>=</span>rwX,g<span style=color:#f92672>=</span>rX,o<span style=color:#f92672>=</span> /var/spool/asterisk
</span></span><span style=display:flex><span>chmod -R u<span style=color:#f92672>=</span>rwX,g<span style=color:#f92672>=</span>rX,o<span style=color:#f92672>=</span> /usr/lib/asterisk
</span></span><span style=display:flex><span>chmod -R u<span style=color:#f92672>=</span>rwX,g<span style=color:#f92672>=</span>rX,o<span style=color:#f92672>=</span> /etc/asterisk
</span></span></code></pre></div><p>Если Вы установили базовые конфигурационные файлы, то по умолчанию в них сконфигурирован английский язык (это влияет на речевые информаторы). Если желаете, можете изменяем язык на русский во всех файлах:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sed -i <span style=color:#e6db74>&#39;s/defaultlanguage = en/defaultlanguage = ru/&#39;</span> /etc/asterisk/asterisk.conf
</span></span><span style=display:flex><span>sed -i <span style=color:#e6db74>&#39;s/;language=en/language=ru/&#39;</span> /etc/asterisk/*.conf
</span></span></code></pre></div><p>В файле <strong>/etc/default/asterisk</strong> раскомментируем две строчки и изменяем название группы:</p><pre tabindex=0><code>AST_USER=&#34;asterisk&#34;
AST_GROUP=&#34;dialout&#34;
</code></pre><p>Запускаем Asterisk и смотрим, от какого пользователя он запустился:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>/etc/init.d/asterisk start
</span></span><span style=display:flex><span>ps aux | grep asterisk
</span></span></code></pre></div><p>Должно быть:
<img src=20-asterisk-ps-aux.png alt>
<em>asterisk ps aux</em></p><h2 id=установка-chan_dongle>Установка chan_dongle
<a class=anchor href=#%d1%83%d1%81%d1%82%d0%b0%d0%bd%d0%be%d0%b2%d0%ba%d0%b0-chan_dongle>#</a></h2><p>Модуль chan_dongle необходим для работы с USB-модемами <strong>Huawei</strong>:</p><ul><li>K3715</li><li>E169 / K3520</li><li>E155X</li><li>E175X</li><li>K3765</li></ul><p>Описываемая в данной статье <a href=https://github.com/oleg-krv/asterisk-chan-dongle>версия</a> является форком <a href=https://github.com/jstasiak/asterisk-chan-dongle/>основного проекта</a>, но основной проект не развивается с 2013 года и поддерживает только Asterisk 11. Впрочем, есть еще один <a href=https://github.com/bflorea/asterisk-chan-dongle/>форк</a> той версии, что используется в данной статье. В связи с этим гарантировать работу модуля невозможно. Со списком известных багов можно ознакомиться <a href=https://github.com/oleg-krv/asterisk-chan-dongle/blob/master/BUGS>по этой ссылке</a>, но не ожидайте, что автор их исправит, так как этот список не обновлялся с 2011 года. Даже сам автор предупреждает, что модуль работает как попало и может назвонить вам куда нибудь и тем самым сожрать все ваши деньги или натворить еще что-то. Так что пожалуйста, прежде чем читать дальше, еще раз подумайте, стоит ли связываться с этим модулем. На сегодняшний день это единственный модуль, способный заставить дружить недорогие GSM-модемы с Asterisk и, скорее всего, у Вас нет выбора.</p><blockquote><p>This channel driver is in alpha stage.
I am not responsible if this channel driver will eat your money on your SIM card or do any unpredicted things.</p></blockquote><p>Модемы должны быть <strong>разлочены</strong>, <strong>проверка PIN-кода</strong> на SIM-карте должна быть <strong>отключена</strong>. Также необходимо обязательно <strong>отключить</strong> на модемах функции <code>CR-ROM</code> и <code>CARDREADER</code>, оставив модем только в режиме модема. Для этого необходимо подключиться к модему консолью и дать следующую АТ-команду:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>AT^U2DIAG=0
</span></span></code></pre></div><p>Также желательно отключить на модеме <a href=https://ru.wikipedia.org/wiki/%D0%9E%D0%B6%D0%B8%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5_%D0%B2%D1%8B%D0%B7%D0%BE%D0%B2%D0%B0>ожидание вызова</a>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>AT+CCWA=0,0,1
</span></span></code></pre></div><p>Установите необходимые для сборки chan_dongle пакеты:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>apt-get install -y unzip automake autoconf
</span></span></code></pre></div><p>Далее загружаем форк chan_dongle под Asterisk 13, разархивируем, собираем, устанавливаем. Не обращаем внимание на строчку &ldquo;automake: error: no &lsquo;Makefile.am&rsquo; found for any configure output&rdquo; — это не является ошибкой:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cd /usr/src
</span></span><span style=display:flex><span>wget https://github.com/oleg-krv/asterisk-chan-dongle/archive/asterisk13.zip
</span></span><span style=display:flex><span>unzip asterisk13.zip
</span></span><span style=display:flex><span>rm -f asterisk13.zip
</span></span><span style=display:flex><span>cd asterisk-chan-dongle-asterisk13
</span></span><span style=display:flex><span>aclocal <span style=color:#f92672>&amp;&amp;</span> autoconf <span style=color:#f92672>&amp;&amp;</span> automake -a
</span></span><span style=display:flex><span>./configure
</span></span><span style=display:flex><span>make
</span></span><span style=display:flex><span>make install
</span></span></code></pre></div><p>Результаты выглядят следующим образом:
<img src=21-dongle-configure.png alt>
<em>dongle configure</em>
<img src=22-dongle-makeinstall.png alt>
<em>dongle make install</em></p><p>Копируем конфигурационный файл dongle.conf:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cp etc/dongle.conf /etc/asterisk/
</span></span><span style=display:flex><span>chown asterisk:asterisk /etc/asterisk/dongle.conf
</span></span><span style=display:flex><span>chmod u<span style=color:#f92672>=</span>rwX,g<span style=color:#f92672>=</span>rX,o<span style=color:#f92672>=</span> /etc/asterisk/dongle.conf
</span></span></code></pre></div><p>Перезапускаем Asterisk, смотрим, загрузился ли модуль:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>/etc/init.d/asterisk restart
</span></span><span style=display:flex><span>asterisk -rvvvvvvvvvvddddddddddc
</span></span><span style=display:flex><span>dongle show devices
</span></span></code></pre></div><p>Далее необходимо сделать так, чтобы модемам при подключении назначался верный владелец (чтобы Asterisk имел к ним доступ). Для этого создадим файл <strong>/etc/udev/rules.d/92-dongle.rules</strong> со следующим содержимым:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>KERNEL==&#34;ttyUSB*&#34;, MODE=&#34;0666&#34;, OWNER=&#34;asterisk&#34;, GROUP=&#34;dialout&#34;
</span></span></code></pre></div><p>Затем перезапустим службу udev:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>service udev restart
</span></span></code></pre></div><p>Теперь при подключении устройства типа ttyUSB, система автоматически назначит ему владельца <strong>asterisk</strong> и группу <strong>dialout</strong>.</p><h3 id=идентификация-по-imsi-или-imei>Идентификация по IMSI или IMEI
<a class=anchor href=#%d0%b8%d0%b4%d0%b5%d0%bd%d1%82%d0%b8%d1%84%d0%b8%d0%ba%d0%b0%d1%86%d0%b8%d1%8f-%d0%bf%d0%be-imsi-%d0%b8%d0%bb%d0%b8-imei>#</a></h3><p>В Файле <strong>/etc/asterisk/dongle.conf</strong> описываются все устройства. Синтаксис файла — общепринятый в Asterisk. Например, я опишу модем, в котором установлена SIM-карта оператора «Киевстар»:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=display:flex><span><span style=color:#66d9ef>[Kievstar]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>imsi</span><span style=color:#f92672>=</span><span style=color:#e6db74>255012321232123</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>imei</span><span style=color:#f92672>=</span><span style=color:#e6db74>345654898756548</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>context</span><span style=color:#f92672>=</span><span style=color:#e6db74>from-dongle</span>
</span></span></code></pre></div><p>Идентификация устройства производится по <strong>IMSI</strong> и <strong>IMEI</strong>. Можно идентифицировать устройство только по одному из параметров. <strong>IMSI</strong> — это идентификатор SIM-карты, <strong>IMEI</strong> — это идентификатор терминала. Если Вам важно идентифицировать устройства по SIM-картам, тогда Вы можете указать только IMSI номера этих SIM-карт (написаны на картах), если же важно идентифицировать по терминалам, тогда указывайте IMEI терминала (написан на модеме).</p><p>Все входящие вызовы с такого устройства будут обработаны контекстом <code>from-dongle</code> из файла <strong>extensions.conf</strong> или <strong>extensions.ael</strong>.</p><p>Исходящие вызовы через данный модем необходимо направлять на <code>Dongle/Kievstar</code>.</p><p>Также в описании устройства можно указать <code>exten=+380123456789</code>. В таком случае все входящие вызовы будут иметь указанный <strong>exten</strong>. В некоторых случаях это возможно понадобится.</p><h3 id=если-идентификация-по-imei--imsi-не-работает>Если идентификация по IMEI / IMSI не работает
<a class=anchor href=#%d0%b5%d1%81%d0%bb%d0%b8-%d0%b8%d0%b4%d0%b5%d0%bd%d1%82%d0%b8%d1%84%d0%b8%d0%ba%d0%b0%d1%86%d0%b8%d1%8f-%d0%bf%d0%be-imei--imsi-%d0%bd%d0%b5-%d1%80%d0%b0%d0%b1%d0%be%d1%82%d0%b0%d0%b5%d1%82>#</a></h3><p>В последней версии <strong>chan_dongle</strong> обнаружение устройств выполняется либо по идентификатору терминала (модема) — <strong>IMEI</strong>, либо по идентификатору абонента (SIM-карты) — <strong>IMSI</strong>. Если же по каким-то причинам Вам необходимо идентифицировать устройство по порту USB-контроллера, то используйте расширенную конфигурацию udev для присвоения псевдонимов портам, а затем эти псевдонимы можно использовать для определения модемов в <strong>dongle.conf</strong>.</p><p>Для привязки модемов по номеру порта контроллера USB, нужно определить адреса этих портов. Извлеките все модемы из сервера, затем запустите:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>udevadm monitor
</span></span></code></pre></div><p>Вставляйте по одному модему и записывайте адреса портов контроллера, которые относятся к каждому из них. Затем в файл <strong>/etc/udev/rules.d/92-dongle.rules</strong> допишите псевдонимы для каждого из модемов, указав адреса контроллеров в качестве ID, подобно следующему:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>KERNEL==&#34;ttyUSB[0-9]*&#34;, ID==&#34;1-1:1.1&#34;, SYMLINK+=&#34;Kievstar-audio&#34;
</span></span><span style=display:flex><span>KERNEL==&#34;ttyUSB[0-9]*&#34;, ID==&#34;1-1:1.2&#34;, SYMLINK+=&#34;Kievstar-data&#34;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>KERNEL==&#34;ttyUSB[0-9]*&#34;, ID==&#34;1-2:1.1&#34;, SYMLINK+=&#34;Vodafone-audio&#34;
</span></span><span style=display:flex><span>KERNEL==&#34;ttyUSB[0-9]*&#34;, ID==&#34;1-2:1.2&#34;, SYMLINK+=&#34;Vodafone-data&#34;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>KERNEL==&#34;ttyUSB[0-9]*&#34;, ID==&#34;1-3:1.1&#34;, SYMLINK+=&#34;Lifecell-audio&#34;
</span></span><span style=display:flex><span>KERNEL==&#34;ttyUSB[0-9]*&#34;, ID==&#34;1-3:1.2&#34;, SYMLINK+=&#34;Lifecell-data&#34;
</span></span></code></pre></div><p>Как видно из примера, необходимы только два порта, вместо четырех.</p><p>Теперь в файле <strong>/etc/asterisk/dongle.conf</strong> вместо идентификации по IMEI и/или IMSI укажите идентификацию по портам USB следующим образом:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=display:flex><span><span style=color:#66d9ef>[Kievstar]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>audio</span><span style=color:#f92672>=</span><span style=color:#e6db74>/dev/Kievstar-audio </span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>data</span><span style=color:#f92672>=</span><span style=color:#e6db74>/dev/Kievstar-data</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>context</span><span style=color:#f92672>=</span><span style=color:#e6db74>from-dongle</span>
</span></span></code></pre></div><p>Однако этот метод определения модемов <strong>не является рекомендуемым</strong>, т.к. при случайной смене USB-порта либо вообще ничего не будет работать, либо Ваши вызовы пойдут не туда куда планировалось. Настоятельно рекомендуется использовать идентификацию по IMEI / IMSI.</p><p>На этом установка полностью завершена.</p></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//blog-denisbondar-com.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#входныеданные>Входные данные</a></li><li><a href=#установка-зависимостей>Установка зависимостей</a></li><li><a href=#установка-dahdi>Установка DAHDI</a></li><li><a href=#установка-libpri>Установка LibPRI</a></li><li><a href=#установкаpjsip>Установка PJSip</a></li><li><a href=#установка-spandsp>Установка SpanDSP</a></li><li><a href=#установка-asterisk-13>Установка Asterisk 13</a><ul><li><a href=#saples>Saples</a></li><li><a href=#установка-кодека-g729>Установка кодека G729</a></li></ul></li><li><a href=#после-установочная-настройка>После установочная настройка</a></li><li><a href=#установка-chan_dongle>Установка chan_dongle</a><ul><li><a href=#идентификация-по-imsi-или-imei>Идентификация по IMSI или IMEI</a></li><li><a href=#если-идентификация-по-imei--imsi-не-работает>Если идентификация по IMEI / IMSI не работает</a></li></ul></li></ul></nav></div></aside></main></body></html>